import{D as y,E as I,F as w,G as n,H as r,I as l,J as A,K as d,L,M as o,N as c,O as M,T as N,V as T,ca as b,da as $,h as v,i as g,k as x,ka as F,m as p,ma as u,n as S,p as E,r as k,s as _,w as m,x as C}from"./chunk-ENQJWNR5.js";var O=(()=>{class t{ngOnInit(){this.getNombre()}getNombre(){let e=localStorage.getItem("token");if(e){let i=JSON.parse(e);this.nombre=i.nombre}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-inicio-admin"]],decls:11,vars:1,consts:[[1,"container","mt-2"],[1,"row"],[1,"col-lg-6"],["src","./assets/portada.png","alt","",2,"width","100%"],[1,"col-lg-6","m-auto"],[1,"text-uppercase",2,"font-size","4rem"],[2,"font-size","2rem"],["type","button","routerLink","/admin/lista",1,"btn","btn-outline-success"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),l(3,"img",3),r(),n(4,"div",4)(5,"h1",5),o(6),r(),n(7,"p",6),o(8,"Empieza a ver a los usuarios registrados."),r(),n(9,"button",7),o(10,"Lista de Usuarios"),r()()()()),i&2&&(m(6),M("Hola ",a.nombre,""))},dependencies:[F]})}}return t})();var j=(()=>{class t{constructor(e){this.http=e}getLista(){let e=localStorage.getItem("token");e&&(this.response=JSON.parse(e));let i="https://camaleon.onrender.com/admin/lista",a=btoa(`${this.response.email}:${this.response.password}`),s=new b().set("Authorization",`Basic ${a}`),f={email:this.response.email,password:this.response.password};return this.http.post(i,f,{headers:s})}deleteUrl(e){let i=localStorage.getItem("token");i&&(this.response=JSON.parse(i));let a=`https://camaleon.onrender.com/admin/eliminar?id=${e}`,s=btoa(`${this.response.email}:${this.response.password}`),f=new b().set("Authorization",`Basic ${s}`),B={email:this.response.email,password:this.response.password};return this.http.post(a,B,{headers:f})}static{this.\u0275fac=function(i){return new(i||t)(x($))}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var P=(()=>{class t{transform(e,i="sin valor"){switch(i){case"nombreMenor":return e=e.sort((a,s)=>a.nombre>s.nombre?1:-1);case"nombreMayor":return e=e.sort((a,s)=>s.nombre>a.nombre?1:-1);case"emailMenor":return e=e.sort((a,s)=>a.email>s.email?1:-1);case"emailMayor":return e=e.sort((a,s)=>s.email>a.email?1:-1);default:return e}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=E({name:"admin",type:t,pure:!0})}}return t})();function J(t,R){if(t&1){let e=A();n(0,"tr",14)(1,"th",15),o(2),r(),n(3,"td"),o(4),r(),n(5,"td"),o(6),r(),n(7,"td"),o(8),r(),n(9,"td"),o(10),r(),n(11,"td"),o(12),r(),n(13,"td",16),d("click",function(){let a=k(e).$implicit,s=L();return _(s.eliminar(a.id))}),o(14,"Eliminar"),r()()}if(t&2){let e=R.$implicit;m(2),c(e.id),m(2),c(e.nombre),m(2),c(e.email),m(2),c(e.codigo),m(2),c(e.permisos),m(2),c(e.rol)}}var z=(()=>{class t{constructor(e){this.admin=e,this.usuarios=[],this.order="sin valor",this.cambio=!1}ngOnInit(){this.getLista()}getLista(){this.admin.getLista().subscribe(e=>{this.usuarios=e},e=>{console.log(e)})}eliminar(e){this.admin.deleteUrl(e).subscribe(i=>{this.getLista()})}orderNombre(){this.cambio=!this.cambio,this.cambio?this.order="nombreMenor":this.order="nombreMayor"}orderEmail(){this.cambio=!this.cambio,this.cambio?this.order="emailMenor":this.order="emailMayor"}reset(){this.getLista(),this.order="sin valor"}static{this.\u0275fac=function(i){return new(i||t)(C(j))}}static{this.\u0275cmp=p({type:t,selectors:[["app-lista-admin"]],decls:39,vars:3,consts:[[1,"container","mt-5"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mt-1"],[1,"nav-link","me-3",3,"click"],[1,"fa-solid","fa-sort"],[1,"nav-link",3,"click"],[1,"fa-solid","fa-rotate-left"],[1,"table","table-hover","table-dark","mt-1"],["scope","col"],[1,"table-secondary"],["scope","row"],[1,"text-danger",2,"cursor","pointer",3,"click"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"nav",1)(2,"div",2)(3,"span",3),o(4,"Ordenar por"),r(),n(5,"button",4),l(6,"span",5),r(),n(7,"div",6)(8,"ul",7)(9,"li",8),d("click",function(){return a.orderNombre()}),o(10," Nombre "),l(11,"i",9),r(),n(12,"li",8),d("click",function(){return a.orderEmail()}),o(13," Email "),l(14,"i",9),r(),n(15,"li",10),d("click",function(){return a.reset()}),o(16," Resetiar "),l(17,"i",11),r()()()()(),n(18,"table",12)(19,"thead")(20,"tr")(21,"th",13),o(22,"Id"),r(),n(23,"th",13),o(24,"Nombre"),r(),n(25,"th",13),o(26,"Email"),r(),n(27,"th",13),o(28,"Codigo"),r(),n(29,"th",13),o(30,"Permisos"),r(),n(31,"th",13),o(32,"Rol"),r(),n(33,"th",13),o(34,"Acciones"),r()()(),n(35,"tbody"),I(36,J,15,6,"tr",14,y),N(38,"admin"),r()()()),i&2&&(m(36),w(T(38,0,a.usuarios,a.order)))},dependencies:[P],styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]})}}return t})();var U=[{path:"inicio",component:O},{path:"lista",component:z}],Z=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=g({imports:[u.forChild(U),u]})}}return t})();export{Z as a};
